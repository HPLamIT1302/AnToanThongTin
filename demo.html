<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Hashing Demo</title>
    <!-- Link to Bootstrap CSS -->
    <link rel="stylesheet" href="./bootstrap.min.css">
    <script src="./jquery-3.7.1.min.js"></script>
    <script src="./bootstrap.min.js"></script>

    <script src="./md5.min.js"></script>
    <script src="./sha256.min.js"></script>

    <style>
        *{
            padding: 0;
            margin: 0;
            text-decoration: none;
            list-style-type: none;
            font-size: 16px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body{
            box-sizing: border-box;
            
        }
    </style>

    <script>

    </script>
</head>

<body>
    <div id="khung" class="container-fluid">
        
        <div id="header">
            <div class="container-fluid">
                <div id="navbar stick-navbar">
                    <nav class="navbar navbar-expand-sm bg-dark">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="./index.html">Trang chủ</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Hàm Băm</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Hàm MD5</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Hàm SHA-256</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
       
    
        <div class="container mt-5">
            <h1 class="mb-4">Hashing Demo</h1>
            <div class="form-group">
                <label for="">Enter your password:</label>
                <input type="password" name="" id="inputPwd1" placeholder="Your password 1" class="form-control">
                <div id="hashedPasswordResult1" class="mt-3"></div>
            </div>
    
            <div class="form-group">
                <label for="">Enter again password:</label>
                <input type="password" name="" id="inputPwd2" placeholder="Your password 2" class="form-control">
                <div id="hashedPasswordResult2" class="mt-3"></div>
            </div>
    
            <div class="form-group">
                <label for="">System check</label>
                <input type="text" name="" id="inputPwd3" placeholder="Your password 3" class="form-control" readonly>
                <div id="hashedPasswordResult3" class="mt-3"></div>
            </div>
    
        </div>
    
    
        <div class="container mt-5 ">
            <h1 class="mb-4">Password Hashing Demo</h1>
            <div class="form-group">
                <label for="passwordInput">Enter Password:</label>
                <input type="password" class="form-control" id="passwordInput" onchange="hashPassword()">
            </div>
            <button type="button" class="btn btn-primary" onclick="hashPassword()">Hash Password</button>
            <div id="hashedPasswordResult" class="mt-3"></div>
        </div>
    
    
        <!-- footer start -->
        <div id="footer">
            <div class="row">
                <h3>Tài liệu tham khảo</h3>
                <a href="https://www.w3schools.com/php/func_string_crypt.asp">https://www.w3schools.com/php/func_string_crypt.asp</a>
            </div>
        </div>
    
    </div>
    
</body>

</html>

<!-- Link to Bootstrap JS and custom script -->
<script>
    document.getElementById('passwordInput').addEventListener('input', function(){
        hashPassword();
    })

    async function hashPassword() {
        var passwordInput = document.getElementById('passwordInput').value;
        var hashedPasswordResult = document.getElementById('hashedPasswordResult');

        try {
            // Compute SHA-256 hash
            var hashedPassword = await sha256(passwordInput);

            // Display hashed password
            hashedPasswordResult.innerHTML = `
                <div class="alert alert-success" role="alert">
                    Hashed SHA-256 Password: <br> ${hashedPassword}
                </div>
            `;
        } catch (error) {
            console.error('Error hashing password:', error);
            hashedPasswordResult.innerHTML = `
                <div class="alert alert-danger" role="alert">
                    Error hashing password. Please try again.
                </div>
            `;
        }
    }

    // SHA-256 hash function (using crypto.subtle.digest)
    async function sha256(input) {
        const encoder = new TextEncoder();
        const data = encoder.encode(input);
        const hashBuffer = await crypto.subtle.digest('SHA-256', data);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map(byte => ('00' + byte.toString(16)).slice(-2)).join('');
        return hashHex;
    }
</script>
